# üî• Hotfix: –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å (Cannot access before initialization)

**–î–∞—Ç–∞:** 2025-11-12  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üö® CRITICAL  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ

---

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω
- –ö–æ–Ω—Å–æ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
```
Uncaught ReferenceError: Cannot access 'Se' before initialization
```

**–ü—Ä–∏—á–∏–Ω–∞:**
–í `src/components/UserSetup.tsx` –±—ã–ª `useEffect` —Å dependencies, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏ **—Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ production build.

---

## üîç –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã

**–ö–æ–¥ —Å –ø—Ä–æ–±–ª–µ–º–æ–π (—Å—Ç—Ä–æ–∫–∞ 163):**
```typescript
useEffect(() => {
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ redirect callback ...
}, [isTelegramMobileApp, isMobileBrowser]); // ‚ùå –≠—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—é—Ç —Ü–∏–∫–ª
```

**–ü–æ—á–µ–º—É —ç—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å:**
1. `isTelegramMobileApp` –∏ `isMobileBrowser` - —ç—Ç–æ **–≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
2. –û–Ω–∏ –æ–±—ä—è–≤–ª–µ–Ω—ã **–ø–æ—Å–ª–µ** (–Ω–∏–∂–µ) –≤ –∫–æ–¥–µ, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ dependencies
3. –ü—Ä–∏ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ Vite/Rollup —Å–æ–∑–¥–∞–ª —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É
4. Runtime –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π **–¥–æ** –µ—ë –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–í dev —Ä–µ–∂–∏–º–µ** —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–ª–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- Dev —Å–±–æ—Ä–∫–∞ –Ω–µ –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∫–æ–¥ —Ç–∞–∫ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ
- Hot reload –º–æ–∂–µ—Ç –æ–±—Ö–æ–¥–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ—Ä—è–¥–∫–∞

**–í production —Å–±–æ—Ä–∫–µ** —ç—Ç–æ –ª–æ–º–∞–µ—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –ö–æ–¥ –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –∏ –ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–µ—Ç—Å—è
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç real —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 164):**
```typescript
useEffect(() => {
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ redirect callback ...
// eslint-disable-next-line react-hooks/exhaustive-deps
}, []); // ‚úÖ –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ dependencies
```

**–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. `useEffect` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑** –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
2. –ö —ç—Ç–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –≤—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —É–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
3. –ù–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫ –≤ dependencies
4. eslint-disable –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã eslint –Ω–µ —Ä—É–≥–∞–ª—Å—è –Ω–∞ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ dependencies

**–≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ:**
- –≠—Ç–æ—Ç useEffect –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç URL –Ω–∞ –Ω–∞–ª–∏—á–∏–µ redirect –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –º–µ–Ω—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `isTelegramMobileApp` –∏ `isMobileBrowser` - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –Ω–µ –º–µ–Ω—è—é—Ç—Å—è

---

## üìù –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–π —Ñ–∞–π–ª

**–§–∞–π–ª:** `src/components/UserSetup.tsx`  
**–°—Ç—Ä–æ–∫–∞:** 164  
**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** `}, [isTelegramMobileApp, isMobileBrowser]);` ‚Üí `}, []);`

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
npm run build              # ‚úÖ –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞
firebase deploy --only hosting  # ‚úÖ –î–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω
```

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ Dev —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- ‚úÖ Production —Å–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ https://course-ab-interview.web.app/

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```
https://course-ab-interview.web.app/
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å:
- ‚úÖ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: `‚úÖ Firebase initialized successfully`
- ‚ùå –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Cannot access 'Se' before initialization`

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ UI:
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Sign in with Google" –≤–∏–¥–Ω–∞
- ‚úÖ –ù–µ—Ç –±–µ–ª–æ–≥–æ —ç–∫—Ä–∞–Ω–∞

---

## üìö –£—Ä–æ–∫–∏ –Ω–∞ –±—É–¥—É—â–µ–µ

### 1. –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ production —Å–±–æ—Ä–∫—É
```bash
npm run build && npm run preview
```

### 2. –û—Å—Ç–æ—Ä–æ–∂–Ω–æ —Å dependencies –≤ useEffect
- –ï—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ `[]`
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ mount ‚Üí –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ `[]`
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Üí –≤–∫–ª—é—á–∞–π—Ç–µ –≤ dependencies

### 3. –í—ã—á–∏—Å–ª—è–µ–º—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
```typescript
// ‚úÖ –•–û–†–û–®–û: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –Ω–∞—á–∞–ª–µ
const isMobile = window.innerWidth < 768;

useEffect(() => {
    // –∏—Å–ø–æ–ª—å–∑—É–µ–º isMobile
}, []); // –ù–µ –Ω—É–∂–Ω–æ –≤ dependencies –µ—Å–ª–∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
```

```typescript
// ‚ùå –ü–õ–û–•–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ dependencies –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
useEffect(() => {
    // ...
}, [isMobile]); // –°–æ–∑–¥–∞–µ—Ç –ª–∏—à–Ω–∏–µ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ã
```

### 4. Dev vs Production
- Dev —Ä–µ–∂–∏–º **–Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç** —á—Ç–æ –∫–æ–¥ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ production
- –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ `npm run build` –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm run preview` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ production —Å–±–æ—Ä–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ

---

## üîç –ö–∞–∫ –Ω–∞–π—Ç–∏ —Ç–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∑–∞—Ä–∞–Ω–µ–µ

### 1. ESLint –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è React Hooks
```json
{
  "rules": {
    "react-hooks/rules-of-hooks": "error",
    "react-hooks/exhaustive-deps": "warn"
  }
}
```

### 2. TypeScript strict mode
```json
{
  "compilerOptions": {
    "strict": true
  }
}
```

### 3. CI/CD pipeline
- –î–æ–±–∞–≤–∏—Ç—å `npm run build` –≤ pre-commit hook
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å production —Å–±–æ—Ä–∫—É –≤ CI

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [x] –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ (—Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–¥ (—É–±—Ä–∞–Ω—ã dependencies)
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω –ª–∏–Ω—Ç–µ—Ä (no errors)
- [x] –°–æ–±—Ä–∞–Ω production build (—É—Å–ø–µ—à–Ω–æ)
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ (—É—Å–ø–µ—à–Ω–æ)
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- [x] –ù–∞–ø–∏—Å–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

**–í–µ—Ä—Å–∏—è:** Hotfix 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-12  
**Deploy URL:** https://course-ab-interview.web.app/  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

