
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>AB Hero Demo GIF</title>
    <style>
        body { margin: 0; padding: 0; background: #000; }
        canvas { display: block; }
        .controls { position: fixed; top: 10px; left: 10px; z-index: 1000; }
        button { background: #00e676; color: #000; border: none; padding: 10px 20px; margin: 5px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="controls">
        <button onclick="startDemo()">ðŸŽ¬ Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ GIF</button>
        <button onclick="downloadGIF()" id="downloadBtn" disabled>ðŸ’¾ Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ</button>
    </div>
    <canvas id="canvas" width="640" height="360"></canvas>
    
    <script src="https://cdn.jsdelivr.net/npm/gif.js@0.2.0/dist/gif.min.js"></script>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let gif = null;
        let frames = [];
        
        function drawFrame(progress) {
            ctx.clearRect(0, 0, 640, 360);
            
            // Ð“Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð½Ñ‹Ð¹ Ñ„Ð¾Ð½
            const gradient = ctx.createLinearGradient(0, 0, 640, 360);
            gradient.addColorStop(0, '#1a1a2e');
            gradient.addColorStop(0.5, '#16213e');
            gradient.addColorStop(1, '#0f3460');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 640, 360);
            
            // Ð—Ð²ÐµÐ·Ð´Ñ‹
            ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
            for (let i = 0; i < 30; i++) {
                const x = (i * 21.3) % 640;
                const y = (i * 12) % 360;
                ctx.beginPath();
                ctx.arc(x, y, 1, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ Ð»Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿Ð°
            const scale = 0.8 + Math.sin(progress * Math.PI * 2) * 0.2;
            const alpha = 0.8 + Math.sin(progress * Math.PI * 4) * 0.2;
            
            ctx.save();
            ctx.globalAlpha = alpha;
            ctx.translate(320, 180);
            ctx.scale(scale, scale);
            
            // Ð›Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿ AB
            ctx.fillStyle = '#dc2626';
            ctx.fillRect(-100, -80, 200, 160);
            
            // Ð¡ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð½Ñ‹Ðµ ÑƒÐ³Ð»Ñ‹
            ctx.globalCompositeOperation = 'destination-in';
            ctx.beginPath();
            ctx.roundRect(-100, -80, 200, 160, 20);
            ctx.fill();
            ctx.globalCompositeOperation = 'source-over';
            
            // Ð‘ÐµÐ»Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚ AB
            ctx.fillStyle = 'white';
            ctx.font = 'bold 80px Arial, sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('AB', 0, 0);
            
            ctx.restore();
            
            // ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ
            ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
            ctx.font = 'bold 24px Arial, sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('A/B Hero', 320, 280);
            
            // ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ
            ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
            ctx.font = '16px Arial, sans-serif';
            ctx.fillText('AI-Ñ‚Ñ€ÐµÐ½Ð°Ð¶ÐµÑ€ Ð´Ð»Ñ ÑÐ¾Ð±ÐµÑÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ð¹', 320, 310);
            
            // Ð”ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð»Ð¸Ð½Ð¸Ð¸
            ctx.strokeStyle = 'rgba(0, 230, 118, 0.3)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(50, 50);
            ctx.lineTo(590, 50);
            ctx.moveTo(50, 310);
            ctx.lineTo(590, 310);
            ctx.stroke();
        }
        
        function startDemo() {
            gif = new GIF({
                workers: 2,
                quality: 10,
                width: 640,
                height: 360,
                workerScript: 'https://cdn.jsdelivr.net/npm/gif.js@0.2.0/dist/gif.worker.js'
            });
            
            const totalFrames = 30; // 3 ÑÐµÐºÑƒÐ½Ð´Ñ‹ Ð¿Ñ€Ð¸ 10 FPS
            
            for (let i = 0; i < totalFrames; i++) {
                const progress = i / totalFrames;
                drawFrame(progress);
                gif.addFrame(canvas, { delay: 100 });
            }
            
            gif.on('finished', function(blob) {
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.download = 'ab-hero-demo.gif';
                link.href = url;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
                
                document.getElementById('downloadBtn').disabled = false;
                console.log('âœ… GIF ÑÐ¾Ð·Ð´Ð°Ð½!');
            });
            
            gif.render();
        }
        
        function downloadGIF() {
            if (gif) {
                startDemo();
            }
        }
        
        // ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° roundRect
        if (!CanvasRenderingContext2D.prototype.roundRect) {
            CanvasRenderingContext2D.prototype.roundRect = function(x, y, width, height, radius) {
                this.beginPath();
                this.moveTo(x + radius, y);
                this.lineTo(x + width - radius, y);
                this.quadraticCurveTo(x + width, y, x + width, y + radius);
                this.lineTo(x + width, y + height - radius);
                this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                this.lineTo(x + radius, y + height);
                this.quadraticCurveTo(x, y + height, x, y + height - radius);
                this.lineTo(x, y + radius);
                this.quadraticCurveTo(x, y, x + radius, y);
                this.closePath();
            };
        }
        
        // ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ ÐºÐ°Ð´Ñ€
        window.onload = function() {
            drawFrame(0);
        };
    </script>
</body>
</html>
